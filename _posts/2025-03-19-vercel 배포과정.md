---
layout: single
title: "íŒ€ í”„ë¡œì íŠ¸ íšŒê³ : Vercelë¡œ GitHub Organization repository ë¬´ë£Œ ë°°í¬í•˜ê¸°"
categories: íŒ€ í”„ë¡œì íŠ¸ íšŒê³ 
tag: [Vercel, ë°°í¬, GitHub, Organization repository]
toc: true
author_profile: false
# sidebar:
#     nav: "counts"
# search: true
---

### âš ï¸ ë¬¸ì œ ìƒí™©

íŒ€ í”„ë¡œì íŠ¸ì—ì„œ Next.jsë¥¼ ì‚¬ìš©í•˜ì—¬ Vercelë¡œ ë°°í¬í•˜ë ¤ê³  í–ˆì§€ë§Œ, GitHub Organization RepositoryëŠ” Vercelì˜ ë¬´ë£Œ í”Œëœì—ì„œ ì§ì ‘ ë°°í¬í•  ìˆ˜ ì—†ë‹¤ëŠ” ë¬¸ì œì— ì§ë©´í–ˆìŠµë‹ˆë‹¤.

### ğŸ’¡ í•´ê²°ë°©ë²•

ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ì—¬ëŸ¬ ë°©ë²•ì„ êµ¬ê¸€ë§í•œ ë’¤, ì§ì ‘ ì ìš©í•´ë³¸ ê²°ê³¼ ë¬¸ì œì—†ì´ ë°°í¬ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ì•„ë˜ëŠ” ì œê°€ ì ìš©í•œ í•´ê²° ë°©ë²•ì…ë‹ˆë‹¤.

#### 1. Organization Repositoryì„ forkí•œë‹¤.

![image](https://github.com/user-attachments/assets/8e4cc0fe-99c4-4ced-b02f-238bd362886c)

#### 2. vercelë¡œê°€ì„œ forkí•œ Repositoryì„ ë°°í¬í•œë‹¤.

![image](https://github.com/user-attachments/assets/a9ef72b0-84c0-4663-97b4-5a4d59cf6d9c)

#### 3. í† í°ì„ ë°œê¸‰í•œë‹¤.

- GitHubì—ì„œ í”„ë¡œí•„ ì•„ì´ì½˜ í´ë¦­ â†’ Settings â†’ Developer Settingsë¡œ ì´ë™í•©ë‹ˆë‹¤.
- ì™¼ìª½ ë©”ë‰´ì—ì„œ Personal access tokensë¥¼ ì„ íƒí•˜ê³ , **Token (classic)**ì„ í´ë¦­í•œ í›„ Generate new token(classic)ì„ í´ë¦­í•©ë‹ˆë‹¤.
- **Note** ë¶€ë¶„ì—ëŠ” í† í°ì„ ë°œê¸‰í•˜ëŠ” ì´ìœ ë‚˜ ì œëª©ì„ ììœ ë¡­ê²Œ ì…ë ¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **repo** ê¶Œí•œë§Œ ì„ íƒí•˜ê³ , **í† í°ì„ ìƒì„±**í•©ë‹ˆë‹¤.
  ![image](https://github.com/user-attachments/assets/d77846bb-8d5a-4ffd-99da-63022cfe9369)
- ê·¸ëŸ¼ ìƒˆë¡œìš´ **í‚¤ê°’(ghp\_??????)** ì´ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.
- ì´ í‚¤ê°’ì€ í•œ ë²ˆ ìƒˆë¡œ ê³ ì¹¨ì„ í•˜ë©´ ë” ì´ìƒ í‘œì‹œë˜ì§€ ì•Šê¸° ë•Œë¬¸ì—, **ì¹´ì¹´ì˜¤í†¡**ì´ë‚˜ **ë©”ëª¨ì¥**ì— ê¼­ ì €ì¥í•´ë‘ëŠ” ê²ƒì„ ì¶”ì²œí•©ë‹ˆë‹¤.

#### 4. ë°œê¸‰ë°›ì€ í† í°ê³¼ ë³¸ì¸ GitHub ê³„ì • ì´ë©”ì¼ì„ Organization repositoryì— ì €ì¥í•œë‹¤.

- Organization repository â†’ Settings â†’ Secrets and variables â†’ Actionsë¡œ ì´ë™í•©ë‹ˆë‹¤.
- ì•„ë˜ ì‚¬ì§„ì²˜ëŸ¼ Nameì— ì›í•˜ëŠ” ì´ë¦„ì„ ì…ë ¥í•˜ê³ , ë°œê¸‰ë°›ì€ í† í°ì„ ë°‘ì— ë¶™ì—¬ë„£ìŠµë‹ˆë‹¤.
- ë™ì¼í•˜ê²Œ Nameì— Emailì„ ì…ë ¥í•˜ê³ , ë³¸ì¸ GitHub ê³„ì •ì˜ ì´ë©”ì¼ì„ ë¶™ì—¬ë„£ìŠµë‹ˆë‹¤.
  ![image](https://github.com/user-attachments/assets/f787556b-bd5b-49eb-875e-5950da977582)
  <span style="display:block; margin-top:10px">
  ![image](https://github.com/user-attachments/assets/07811652-f328-4ffb-89f8-29036b8d29c0)
  </span>
  ìœ„ ê°™ì´ ì €ì¥ë˜ë©´ ì•„ì£¼ ì˜ ë”°ë¼ì˜¤ì‹ ê²ë‹ˆë‹¤.

#### 5. Organization repositoryì— ìˆëŠ” í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— build.sh íŒŒì¼ì„ ìƒì„±í•˜ì—¬ ì•„ë˜ ë‚´ìš©ì„ ì…ë ¥í•œë‹¤.

![image](https://github.com/user-attachments/assets/6b22c829-d755-4b9f-87ff-09ed14104db9)

- ë§Œì•½ Organization-Repository-Nameì´ abcdë¼ë©´, ìŠ¤í¬ë¦½íŠ¸ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ë©ë‹ˆë‹¤.

```sh

#!/bin/sh
cd ../
mkdir output
cp -R ./abcd/* ./output
cp -R ./output ./abcd/

```

#### 6. Organization repositoryì— ìˆëŠ” í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— .github/workflows/deploy.yml ì´ë¼ëŠ” ê²½ë¡œì—ì„œ ì½”ë“œë¥¼ ì‘ì„±í•œë‹¤.

```yaml
name: Deploy

on:
  push:
    branches: [main] # defaultë¡œ ì„¤ì •í•´ ë†“ì€ ë°°í¬í•˜ëŠ” ë¸Œëœì¹˜ëª…

jobs:
  build:
    runs-on: ubuntu-latest
    container: pandoc/latex
    steps:
      - uses: actions/checkout@v2
      - name: Install mustache (to update the date)
        run: apk add ruby && gem install mustache
      - name: creates output
        run: sh ./build.sh
      - name: Pushes to another repository
        id: push_directory
        uses: cpina/github-action-push-to-another-repository@main
        env:
          API_TOKEN_GITHUB: ${ { secrets.MYTOKEN } } # ë§Œë“¤ì–´ ë†“ì€ ì‹œí¬ë¦¿Nameìœ¼ë¡œ ë³€ê²½
        with:
          source-directory: "output"
          destination-github-username: "abcd" # ë³¸ì¸ ê¹ƒí—ˆë¸Œ ê³„ì • ì´ë¦„
          destination-repository-name: "abcd" # forkí•œ Repository ì´ë¦„
          user-email: ${ { secrets.EMAIL } } # ë§Œë“¤ì–´ ë†“ì€ ì‹œí¬ë¦¿Nameìœ¼ë¡œ ë³€ê²½
          commit-message: ${ { github.event.commits[0].message } }
          target-branch: main # defaultë¡œ ì„¤ì •í•´ ë†“ì€ ë°°í¬í•˜ëŠ” ë¸Œëœì¹˜ëª…
      - name: Test get variable exported by push-to-another-repository
        run: echo $DESTINATION_CLONED_DIRECTORY
```

- ì£¼ì„ìœ¼ë¡œ ì²˜ë¦¬í•´ë†“ì€ ë¶€ë¶„ì„ ì˜ ì½ì–´ë³´ê³  ë‚˜ì˜ Repositoryì˜ ë§ê²Œ ì„¤ì •ì„ í•´ì•¼í•œë‹¤.

#### 7. ì‘ì„±í•œ ì½”ë“œë¥¼ Organization repository main ë¸Œëœì¹˜ì— í‘¸ì‹œí•œ í›„, Actions íƒ­ì—ì„œ ì •ìƒì ì¸ ë°°í¬ ê²°ê³¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

![image](https://github.com/user-attachments/assets/799f92a2-2a49-4f6b-9b49-21e32ad8f759)
![image](https://github.com/user-attachments/assets/8105c389-2170-493c-805e-b7518df6b7da)

### ğŸ ì„±ê³¼ ë° ëŠë‚€ì 

- GitHub Organization Repositoryì—ì„œë„ ë¬´ë£Œ í”Œëœìœ¼ë¡œ Vercel ë°°í¬ë¥¼ ì„±ê³µì ìœ¼ë¡œ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.
- CI/CD íŒŒì´í”„ë¼ì¸ì„ êµ¬ì¶•í•˜ì—¬ íŒ€ì›ë“¤ì´ ì½”ë“œ ë³€ê²½ ì‚¬í•­ì„ ì‰½ê²Œ ë°°í¬í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆê³ , ì‘ì—… íš¨ìœ¨ì„±ì´ í¬ê²Œ í–¥ìƒë˜ì—ˆìŠµë‹ˆë‹¤.
- ì´ë²ˆ ê²½í—˜ì„ í†µí•´ GitHub Actionsì„ ë°°ìš°ê³  Vercel ë°°í¬ ê³¼ì •ì„ ì¡°ê¸ˆì´ë‚˜ë§ˆ ì´í•´í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.
- ì´ë²ˆ ê²½í—˜ì„ í†µí•´ ë¬¸ì œ í•´ê²° ì—­ëŸ‰ì„ í‚¤ìš¸ ìˆ˜ ìˆì—ˆê³ , ìƒˆë¡œìš´ ë°©ë²•ì„ ë°°ìš°ëŠ” ê³¼ì •ì´ ì¬ë¯¸ìˆì—ˆìŠµë‹ˆë‹¤.

### ğŸ“š ì°¸ê³  ìë£Œ

<a href="https://jjang-j.tistory.com/93" target="_blank">[Github Action] ê¹ƒí—ˆë¸Œ Organization ë ˆí¬ì§€í† ë¦¬ vercel ìë™ ë°°í¬</a>
