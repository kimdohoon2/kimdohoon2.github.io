---
layout: single
title: "React Query가 만들어진 이유와 React Query를 사용할 때 얻게 되는 이점"
categories: 서버상태관리
tag: [React Query]
toc: true
author_profile: false
# sidebar:
#     nav: "counts"
# search: true
---

## React Query를 사용하는 이유

React Query를 사용하는 이유를 이해하기 위해서는 **서버 상태**와 **클라이언트 상태**의 차이를 먼저 알아볼 필요가 있습니다.

---

### 서버 상태와 클라이언트 상태의 차이

웹사이트에서 사용하는 상태 데이터는 크게 두 가지로 나눌 수 있습니다: **클라이언트 상태**와 **서버 상태**입니다.

- **클라이언트 상태**  
  클라이언트 상태는 웹 브라우저 내부에서만 사용되는 데이터로, 서버와는 독립적으로 동작합니다.  
  예를 들어:

  - 사용자가 어떤 메뉴를 열거나 닫았는지
  - 특정 버튼을 클릭했는지 여부
  - 입력 폼에 입력한 데이터  
    이런 데이터들은 클라이언트에서만 관리되며, 서버와의 통신 없이 처리됩니다.

- **서버 상태**  
  서버 상태는 서버에서 가져오는 데이터입니다.  
  예를 들어:
  - 네이버 뉴스 페이지의 기사 목록
  - 배달의 민족에서 지역에 따른 맛집 랭킹  
    이러한 데이터는 클라이언트가 직접 입력하거나 생성하지 않으며, 서버에 저장된 데이터를 요청하여 화면에 표시할 때 사용됩니다.

---

### 서버 상태 관리의 필요성

서버 상태는 다음과 같은 문제를 동반할 수 있습니다:

- **네트워크 환경의 제약**  
  모든 사용자가 빠른 네트워크 환경(예: 5G)을 사용하는 것은 아닙니다. 3G처럼 느린 네트워크에서는 데이터를 받아오는 데 시간이 걸릴 수 있습니다.

- **데이터 변경**  
  기사나 맛집 랭킹처럼 데이터가 자주 변경되거나,  
  비트코인·주식 차트처럼 최신 데이터를 즉시 반영해야 하는 경우 서버 상태 관리가 중요합니다.  
  이런 상황에서 서버 상태 관리가 제대로 되지 않으면 사용자 화면에 데이터가 늦게 표시되거나, 최신 정보를 놓칠 수 있습니다.

- **복잡한 상태 관리**  
  데이터를 주기적으로 받아오거나 최신 데이터를 유지해야 하는 경우,  
  불필요한 데이터를 제거하거나 효율적으로 관리하는 작업은 기존의 Redux 같은 라이브러리로 구현하기 쉽지 않았습니다.

---

### React Query가 제공하는 이점

이런 문제를 해결하기 위해 React Query가 등장했습니다. React Query는 다음과 같은 장점을 제공합니다:

1. **로딩 및 에러 처리**  
   데이터를 가져오는 과정에서 로딩 상태와 에러 처리를 손쉽게 구현할 수 있습니다.

2. **자동 최신화**  
   정해진 시간 또는 특정 조건에 따라 서버 상태 데이터를 최신으로 유지합니다.

3. **캐시 사용**  
   캐시를 활용해 매번 서버에서 데이터를 가져오는 대신, 이미 불러온 데이터를 빠르게 보여줄 수 있습니다.

4. **다양한 기능 지원**  
   페이지네이션, 무한 스크롤, 낙관적 업데이트 등 웹사이트에서 자주 사용하는 기능을 쉽게 구현할 수 있습니다.

---

React Query는 서버 상태 관리의 복잡성을 줄이고, 더 나은 사용자 경험을 제공하기 위한 강력한 도구입니다.
