---
layout: single
title: "Next.js를 사용하는 이유와 특징"
categories: 기술면접
tag: [Next]
toc: true
author_profile: false
# sidebar:
#     nav: "counts"
# search: true
---

## Next.js

### 등장 배경

Next.js는 React를 기반으로 한 웹 애플리케이션 프레임워크로, 주로 **서버 사이드 렌더링(SSR)**과 **정적 사이트 생성(SSG)**을 쉽게 구현할 수 있도록 도와주기 위해 등장했습니다. 그 주요 목적은 React의 단점을 보완하고 개발자의 생산성을 높이며, 성능 최적화를 위한 기능들을 내장하는 것입니다.

React의 렌더링의 방식은 **CSR(Client Side Rendering)**입니다. 클라이언트 사이드 렌더링 방식의 치명적인 단점은 **FCP(First Contentful Paint)** 시간이 길어지는 것입니다. 이는 사용자가 웹 페이지를 처음 로드할 때 화면에 내용이 표시되기 전까지 시간이 오래 걸리는 것을 의미합니다. 이는 이탈율을 증가시키는 요소입니다.

즉 Next.js는 React의 단점을 보완하기 위해서 나왔습니다. 또한 서버 사이드 렌더링을 지원하기 때문에 초기 로딩 속도를 높이고, 사용자 경험을 향상시킬 수 있습니다.

그외 특징들은 아래와 같습니다.

### 정적 사이트 생성(SSG)와 성능 최적화

Next.js는 정적 사이트 생성(SSG)을 지원합니다. 정적 사이트 생성은 페이지를 미리 빌드하여 HTML 파일로 생성한 후 서버에서 제공하는 방식으로, 이는 빠른 페이지 로딩 속도와 서버 부하 감소에 기여합니다. Next.js는 이러한 방식의 구축을 손쉽게 만들 수 있도록 돕습니다.

### 파일 기반 라우팅

Next.js는 페이지를 파일 기반 라우팅 방식으로 자동으로 처리합니다. React에서 라우팅을 설정하려면 별도의 라우팅 라이브러리(예: React Router)를 사용해야 하지만, Next.js는 pages 디렉터리 내 파일 구조를 기반으로 자동으로 라우팅을 처리해 줍니다.

### API 라우트 기능

Next.js는 서버 측 코드를 작성할 수 있는 기능(API Routes)을 제공하여, 클라이언트와 서버 코드가 동일한 프로젝트 내에 공존할 수 있게 합니다. 이를 통해 API 서버를 별도로 관리하지 않고도 빠르게 서버리스 API를 구현할 수 있습니다.
자동 코드 분할 및 성능 향상:

Next.js는 코드 분할을 자동으로 처리하여, 사용자에게 필요한 코드만 전송합니다. 이로 인해 초기 로딩 속도가 빨라지고, 사용자가 페이지를 탐색할 때 더 효율적인 리소스 로딩이 이루어집니다.

## SSR의 정의와 실행과정

### 정의

: 사용자가 페이지를 요청할 때마다 서버에서 데이터를 가져오고, 그 데이터를 기반으로 HTML을 렌더링하여 클라이언트에 전달합니다.

### 실행되는 과정

- 사용자가 웹 페이지를 요청합니다.
- Next.js가 요청을 받아 라우팅을 수행하고 필요한 데이터를 로딩합니다.
- 서버에서 페이지 컴포넌트를 HTML로 렌더링합니다.
- 완성된 HTML을 브라우저로 반환합니다.
- 브라우저가 HTML을 렌더링하고 필요한 CSS와 JavaScript 파일을 다운로드합니다.

## Hydration

Hydration(하이드레이션)의 사전적인 의미는 '수분 공급', '수화(물에 어떤 용질이 녹는 현상)'입니다.

Hydration은 서버에서 렌더링된 HTML을 클라이언트에서 인터랙티브한 웹 페이지로 만드는 과정입니다.

이 과정에서:

- 브라우저가 서버로부터 받은 HTML을 로드합니다.
- 렌더링된 컴포넌트와 상태, 이벤트 핸들러를 분석합니다.
- 서버에서 렌더링된 컴포넌트를 재사용하고 이벤트 핸들러를 설정합니다.
- 클라이언트 측에서 추가적인 상호작용과 변경사항을 처리합니다.
- 이러한 SSR과 Hydration의 결합으로 Next.js는 빠른 초기 로딩과 향상된 SEO, 그리고 풍부한 사용자 경험을 제공할 수 있습니다.

즉
웹 페이지가 동작하고 타인과의 상호작용이 가능하게 하려면, 마치 생기를 불어넣는 것처럼, 자바스크립트가 웹 페이지에 생명을 불어넣어야 합니다. 이를 위해 필요한 것은 수분을 공급하는 과정처럼, 자바스크립트가 동적 이벤트를 연결해주는 일입니다. 사용자가 버튼을 클릭하거나 입력을 하는 등의 상호작용을 할 때, 자바스크립트는 이벤트를 처리하여 웹 페이지가 반응할 수 있도록 만들어 줍니다.
