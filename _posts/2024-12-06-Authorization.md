---
layout: single
title: "Authorization Code Flow를 활용한 구글 소셜 로그인 과정"
categories: 기술면접
tag: [SEO]
toc: true
author_profile: false
# sidebar:
#     nav: "counts"
# search: true
---

## 1. 유저가 간편 로그인 요청

1. 사용자가 **"구글 간편 로그인"** 버튼을 클릭합니다.
2. 프론트엔드 애플리케이션이 구글의 OpenID Connect 인증 서버에 로그인 요청을 보냅니다.
   - 요청 정보:
     - **클라이언트 ID** (애플리케이션 식별자)
     - **리디렉션 URL** (로그인 후 돌아올 URL)
     - **요청 권한** (scope, 예: `email`, `profile`)

---

## 2. 구글 로그인 페이지 리디렉션

1. 구글은 사용자를 **구글 로그인 페이지**로 리디렉션합니다.
2. 사용자는 구글 로그인 페이지에서 **이메일**과 **비밀번호**를 입력해 본인임을 인증합니다.
3. 로그인에 성공하면 구글은 사용자에게 권한 부여 동의를 요청합니다.

---

## 3. 인가 코드 발급

1. 사용자가 동의하면, 구글은 **인가 코드 (Authorization Code)**를 생성합니다.
2. 이 인가 코드는 **프론트엔드의 리디렉션 URL**로 전달됩니다.

---

## 4. 프론트엔드 → 백엔드로 인가 코드 전달

1. 프론트엔드는 구글에서 받은 **인가 코드**를 백엔드로 전달합니다.

---

## 5. 백엔드에서 토큰 요청

1. 백엔드는 구글 인증 서버에 **인가 코드**를 사용해 토큰 교환을 요청합니다.
2. 요청에 포함되는 정보:
   - **인가 코드**
   - **클라이언트 ID** (애플리케이션 식별자)
   - **클라이언트 시크릿** (비밀키)
   - **리디렉션 URL**
   - **요청 타입** (예: `authorization_code`)

---

## 6. 구글에서 Access Token 및 ID Token 발급

1. 구글은 백엔드에 다음 두 가지 토큰을 전달합니다:
   - **Access Token**: API 호출 시 사용할 인증 토큰
   - **ID Token**: 사용자의 신원 정보를 포함한 JWT(JSON Web Token)

---

## 7. 백엔드에서 사용자 인증 완료

1. 백엔드는 받은 **ID Token**을 검증하여 사용자 정보를 확인합니다.
2. 이후 인증 상태를 유지:
   - **Access Token** 저장
   - 또는 **세션** 또는 **JWT** 기반 인증 유지

---

## 8. 사용자 로그인 완료

1. 백엔드는 프론트엔드에 사용자 정보를 전달하거나, 인증 상태를 나타내는 세션/토큰을 반환합니다.
2. 사용자는 애플리케이션에 로그인된 상태로 서비스를 이용할 수 있습니다.
